<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="http://richfaces.org/a4j"
	template="/application/default.xhtml">
	<ui:define name="content1">

		<div class="container-fluid">
			<div class="tabbable">
				<ul id="myTab" class="nav nav-tabs">
					<li class="active"><a href="#home" data-toggle="tab">Upload</a></li>
				</ul>
				<div class="tab-content">

					<!-- ########################################## HOME ######################################### -->
					<div class="tab-pane fade in active" id="home">

						<div id="listview-grid-demo"
							style="padding: 0px; margin: auto; text-align: center;">
							<h:form id="uplaodFileForm" prependId="false"
											enctype="multipart/form-data">
							<div class="mediumListIconTextItem_2">
								<fieldset>
									<legend>
										<b>Extensões : *.txt, *.cvs </b>
									</legend>
									 <h:panelGrid id="pgPackageHistor_1" columns="2">									
											<h:panelGroup>
												<p:fileUpload d="pio" value="#{mbUploadinfopackage.file}" required="true"
												    requiredMessage="#{message['view.label.messageMandatory']}"
													mode="simple" allowTypes="/(\.|\/)(csv)$/" style="margin:0px">
												</p:fileUpload>
												<br />
											</h:panelGroup>
											<h:outputLabel value="" />
											<h:commandButton  styleClass="btn" value="Enviar" actionListener="#{mbUploadinfopackage.handleFileUpload}" />										
									</h:panelGrid>
								</fieldset>

							</div>
							</h:form>
							<h:panelGroup id="teste" layout="block"
								styleClass="alert alert-block alert-error fade in"
								rendered="#{not empty mbUploadinfopackage.listPackage}">
								<button id="buttoCLose" type="button" class="close" data-dismiss="alert"></button>
								<h4 class="alert-heading">Aviso</h4>
								<p>Esse arquivo possui #{mbUploadinfopackage.quantidadeRegistros} registro(s), deseja processa-los ?</p>
								<p>
								    <h:commandLink styleClass="btn btn-danger" immediate="true" value="Sim" action="#{mbUploadinfopackage.teste}"/>
									<h:commandLink styleClass="btn" value="Não" onclick="getElementById('buttoCLose').click();return false;" />
								</p>
							</h:panelGroup>							
						</div>
					</div>
				</div>
			</div>
		</div>
	</ui:define>
</ui:composition>
